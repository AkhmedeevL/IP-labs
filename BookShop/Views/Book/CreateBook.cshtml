
@{
    ViewBag.Title = "CreateBook";
}

@model WeBookShop.Models.Book
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>Добавление книги</h2>


<script type="text/javascript">

    function checkForm() {

        var regex1 = new RegExp("^.{1,100}$"); 
        var Author = $('#Author').val();
        var regex2 = new RegExp("^.{1,100}$"); 
        var Name = $('#Name').val();

        var regex3 = new RegExp("^.{1,250}$"); 
        var Annotation = $('#Annotation').val();

        var regex4 = /\d{1,10}/; 
        var Price = $('#Price').val();


        var submitButton = $('#submitButton');
        if ((Author == "") || (Name == "") || (Annotation == "") || (Price == "") || (regex1.test(Author) == false) || (regex2.test(Name) == false) || (regex3.test(Annotation) == false) || (regex4.test(Price) == false) ) {


            submitButton.prop('disabled', true);

        }
        else {

            submitButton.prop('disabled', false);
        }
    }</script>

@Scripts.Render("~/scripts/jquery-3.3.1.min.js")
@Scripts.Render("~/scripts/jquery.validate.min.js")
@Scripts.Render("~/scripts/jquery.unobtrusive-ajax.js")


@using (Html.BeginForm())
{

    @Html.LabelFor(model => model.Author, "Автор")
    <br />
    @Html.EditorFor(model => model.Author, new { htmlAttributes = new { onchange = "checkForm()" } })
    <br /><br />
    @Html.LabelFor(model => model.Name, "Название")
    <br />
    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { onchange = "checkForm()" } })
    <br /><br />
    @Html.LabelFor(model => model.Annotation, "Аннотация")
    <br />
    @Html.EditorFor(model => model.Annotation, new { htmlAttributes = new { onchange = "checkForm()" } })
    <br /><br />

    @Html.LabelFor(model => model.Price, "Цена")
    <br />
    @Html.EditorFor(model => model.Price, new { htmlAttributes = new { onchange = "checkForm()" } })
    <br /><br />

    

    <input id="submitButton" type="submit" value="Добавить" disabled />
}